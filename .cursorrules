# Gallop Canon v1.0.0 - AI Rules

This file is auto-generated from @gallop.software/canon. Do not edit manually. Regenerate with: npm run generate:ai-rules

## Tech Stack

- Next.js 16 with App Router
- React 19
- TypeScript
- Tailwind CSS v4
- clsx for conditional class names

## Enforced Patterns (ESLint)

These patterns are enforced by `@gallop.software/eslint-plugin`. Violations will be flagged.

### 001: Server-First Blocks

Blocks must be server components

- **ESLint Rule:** `gallop/no-client-blocks`
- **Category:** rendering

**Bad:**

```tsx
// src/blocks/hero-1.tsx
'use client'
import { useState } from 'react'

export default function Hero1() {
  const [isOpen, setIsOpen] = useState(false)
  // ...
}
```

**Good:**

```tsx
// src/blocks/hero-1.tsx (server component)
import { InteractiveFeature } from '@/components/interactive-feature'

export default function Hero1() {
  return (
    <Section>
      <Heading>Welcome</Heading>
      <InteractiveFeature /> {/* Client logic extracted */}
    </Section>
  )
}
```

### 002: Layout Hierarchy

No Container inside Section

- **ESLint Rule:** `gallop/no-container-in-section`
- **Category:** layout

**Bad:**

```tsx
<Section>
  <Container>
    <Heading>Title</Heading>
    <Paragraph>Content here</Paragraph>
  </Container>
</Section>
```

**Good:**

```tsx
<Section>
  <Heading>Title</Heading>
  <Paragraph>Content here</Paragraph>
</Section>
```

### 003: Typography Components

Use Paragraph/Span, not raw tags

- **ESLint Rule:** `gallop/prefer-typography-components`
- **Category:** typography

**Bad:**

```tsx
<p className="text-sm text-gray-500 mb-4">Some descriptive text</p>
<span className="text-green-500 font-medium">+28%</span>
```

**Good:**

```tsx
<Paragraph fontSize="text-sm" color="text-gray-500">
  Some descriptive text
</Paragraph>
<Span color="text-green-500" fontWeight="font-medium">+28%</Span>
```

### 004: Component Props

Use props over className for supported styles

- **ESLint Rule:** `gallop/prefer-component-props`
- **Category:** typography

**Bad:**

```tsx
<Heading className="text-center mb-6 text-accent">Title</Heading>
<Paragraph className="text-lg mb-4">Text content</Paragraph>
<Label className="text-sm font-semibold">Category</Label>
```

**Good:**

```tsx
<Heading textAlign="text-center" margin="mb-6" color="text-accent">
  Title
</Heading>
<Paragraph fontSize="text-lg" margin="mb-4">
  Text content
</Paragraph>
<Label fontSize="text-sm" fontWeight="font-semibold">
  Category
</Label>
```

## Documentation Patterns

These patterns are not enforced by ESLint but should be followed.

### 005: Page Structure

PageWrapper, generatePageMetadata pattern

### 006: Block Naming

{type}-{n}.tsx naming, PascalCase exports

### 007: Import Paths

@/ aliases, destructured imports

### 008: Tailwind Only

No inline styles, use Tailwind exclusively

### 009: Color Tokens

Use semantic color tokens

### 010: Spacing System

Standard padding/margin values

### 011: Responsive Mobile-First

sm/md/lg/xl breakpoint usage

### 012: Icon System

Iconify with Icon component

### 013: New Component Pattern

Props for margin/color/fontSize

### 014: clsx Not classnames

Use clsx, never classnames package

### 015: No Inline Hover Styles

Tailwind for hover states

### 016: Client Extraction

Extract hooks to components, not blocks (see Pattern 001 for enforcement)

### 017: SEO Metadata

PageMetadata structure, structured data

## Canon Guarantees

Following these patterns provides these guarantees:

- **SEO Stability** (SEO_STABLE): Patterns 001, 016, 017
- **Performance Baseline** (PERF_BASELINE): Patterns 001, 007, 010, 016
- **Maintainability** (MAINTAIN): Patterns 004, 005, 006, 007, 013
- **Design System Compliance** (DESIGN_SYSTEM): Patterns 003, 004, 009, 010, 011

## Component Quick Reference

### Typography

- `Heading` - props: `as`, `color`, `margin`, `fontSize`, `fontWeight`, `textAlign`
- `Paragraph` - props: `color`, `margin`, `fontSize`, `lineHeight`, `textAlign`
- `Span` - props: `color`, `margin`, `fontSize` (inline text, mb-0 default)
- `Label` - props: `color`, `margin`, `fontSize`, `fontWeight`, `textAlign`

### Layout

- `Section` - semantic section wrapper
- `Columns` - grid layout, props: `cols`, `gap`, `align`
- `Column` - column child

### Interactive

- `Button` - props: `href`, `variant`, `icon`, `iconPlacement`, `margin`
- `Icon` - Iconify icon wrapper

## Do NOT

- Use `'use client'` in blocks - extract to components
- Use raw `<p>` or `<span>` - use Paragraph/Span components
- Use className for margin/color/fontSize when component has props
- Use Container inside Section - Section already provides containment
- Use `classnames` package - use `clsx` instead
- Use inline styles for hover states - use Tailwind classes

## Post-Edit Verification

After editing files:

1. Run `npm run lint` to check for errors
2. Fix any violations before committing

Note: Only lint files you edited, not the entire codebase.
